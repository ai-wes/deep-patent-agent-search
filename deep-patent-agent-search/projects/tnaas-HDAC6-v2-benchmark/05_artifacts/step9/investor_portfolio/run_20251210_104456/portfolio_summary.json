{
  "config": {
    "active": true,
    "dataset_csv": "../../../../03_processed/compounds_cleaned.csv",
    "smiles_col": "smiles",
    "label_col": null,
    "portfolio_k": 8,
    "seed": null,
    "artifacts_dir": "..",
    "cache_dir": "../../investor_cache",
    "n_islands": 6,
    "pop_size": 48,
    "max_generations": 80,
    "early_stop_patience": 20,
    "migration_interval": 10,
    "dimension": 30,
    "feature_dim": 8,
    "rel_tol": 0.001,
    "abs_tol": 1e-08,
    "solution_mutation_strength": 0.05,
    "neural_mutation_probability": 0.05,
    "neural_mutation_strength": 0.05,
    "heavy_tail_mutation_prob": 0.0,
    "heavy_tail_scale": 0.0,
    "phenotype_min_mutation": 0.001,
    "phenotype_scale_factor": 0.25,
    "sigma_init_scale": 0.2,
    "base_transpose_prob": 1.0,
    "horizontal_transfer_prob": 0.2,
    "pure_random_parents": false,
    "island_roles": [
      "raw",
      "trust_region",
      "rescale",
      "explore",
      "decomp_or_indicator"
    ],
    "island_workers": 1,
    "enable_parallel_islands": true,
    "enable_epigenetic": true,
    "breeding_summit_interval": 15,
    "microchimerism_interval": 12,
    "max_genes_per_clone": 30,
    "enable_immune": true,
    "immune_eviction_generations": 10000,
    "immune_signature_bits": 256,
    "stress_immune_explore_trials": 4,
    "stress_immune_max_cache": 128,
    "stress_immune_sigma_threshold": 1.0,
    "enable_dream": true,
    "enable_aggressive_dreams": false,
    "dream_interval": 15,
    "dream_max_fraction": 0.25,
    "dream_sigma_scale": 0.2,
    "dream_stagnation_threshold": 5,
    "dream_stagnation_multiplier": 10,
    "dream_fitness_threshold": 0.1,
    "enable_pnn_lock_quota": true,
    "pnn_exploit_budget": 256.0,
    "pnn_hard_unlock_generations": 12,
    "pnn_hard_unlock_threshold": 0.001,
    "pnn_improvement_threshold": 0.01,
    "pnn_improvement_eps": 1e-09,
    "pnn_stagnation_generations": 8,
    "pnn_stagnation_penalty_multiplier": 3.0,
    "pnn_stagnation_penalty_threshold": 5,
    "pnn_stress_unlock_threshold": 0.8,
    "pnn_unlock_limit_per_gen": 6,
    "pnn_quota_fitness_scale": 1.0,
    "pnn_quota_min_fraction": 0.1,
    "pnn_quota_base_fraction": 0.3,
    "pnn_time_decay_per_gen": 0.2,
    "pnn_drain_success_factor": 0.5,
    "pnn_drain_failure_factor": 1.5,
    "trust_radius_init_fraction": 0.005,
    "trust_radius_expand": 1.1,
    "trust_radius_shrink": 0.5,
    "unlock_fraction_static": 0.05,
    "unlock_fraction_high_dim": 0.08,
    "unlock_stress_low": 0.2,
    "unlock_stress_high": 0.8,
    "enable_champion_linesearch": true,
    "champion_linesearch_regular_interval": 4,
    "champion_linesearch_stagnation_threshold": 5,
    "champion_linesearch_fitness_threshold": 0.05,
    "champion_linesearch_step_scale": 0.1,
    "enable_exploit_queue": true,
    "exploit_queue_top_k": 6,
    "exploit_queue_steps": 8,
    "exploit_queue_circadian_day_only": true,
    "exploit_queue_allow_mid_phase": true,
    "exploit_budget_initial": 16,
    "exploit_budget_min": 8,
    "exploit_budget_max": 64,
    "exploit_budget_reward_factor": 1.2,
    "exploit_budget_penalty_factor": 0.5,
    "force_exploit_strategy": null,
    "cmaes_enabled": true,
    "cmaes_use_surrogate": true,
    "cmaes_diag_cov": true,
    "cmaes_lambda_cap": 16,
    "cmaes_gens_cap": 2,
    "cmaes_min_budget": 6,
    "cmaes_trust_radius_fraction": 0.004,
    "de_F": 0.6,
    "de_CR": 0.9,
    "default_stress": 0.3,
    "stress_threshold": 0.83,
    "stress_relax": 0.45,
    "stress_multiplier": 1.0,
    "stress_enable_fallback": true,
    "stress_v2_relative_stagnation_weight": 0.7,
    "stress_v2_time_stagnation_weight": 0.3,
    "stress_v2_time_stagnation_period": 20.0,
    "enable_plateau_unlock": true,
    "phase_crisis_consecutive_generations": 5,
    "phase_crisis_locked_threshold": 0.65,
    "phase_crisis_unlock_fraction": 0.2,
    "phase_transition_detector_window_size": 10,
    "circadian_period": 100,
    "circadian_day_fraction_static": 0.25,
    "circadian_day_fraction_highd": 0.45,
    "circadian_phase_jitter": 0.1,
    "late_phase_start": 0.85,
    "late_phase_sigma_factor": 0.02,
    "late_phase_min_weight": 0.0,
    "late_phase_stress_threshold": 0.85,
    "high_percentile": 90.0,
    "low_percentile": 20.0,
    "percentile_window": 50,
    "default_percentile_weight": 0.0,
    "high_fitness_threshold_norm": 0.8,
    "low_fitness_threshold_norm": 0.2,
    "stagnation_restart_generations": 1000000000,
    "stagnation_restart_fraction": 0.2,
    "causal_mutagen_influence": 0.3,
    "causal_tapestry_decay_rate": 0.1,
    "causal_tapestry_generation_window": 2,
    "causal_direction_min_samples": 2,
    "disable_causal_queries": false,
    "tapestry_bootstrap_generations": 5,
    "tapestry_hash_dim": 128,
    "tapestry_proj_dim": 32,
    "tapestry_ring_size": 32,
    "tapestry_max_generation_age": 200,
    "tapestry_max_graph_size": 10000,
    "tapestry_prune_check_interval_gens": 10,
    "tapestry_prune_target_fraction": 0.7,
    "tapestry_generation_prune_enabled": true,
    "tapestry_snapshot_interval": 5,
    "tapestry_enable_events": true,
    "tapestry_event_sampling_prob": 1.0,
    "tapestry_compact_event_details": true,
    "tapestry_log_only_extremes": true,
    "tapestry_effect_good_threshold": -0.001,
    "tapestry_effect_bad_threshold": 0.001,
    "tapestry_direction_max_samples_per_context": null,
    "hidden_dim": 128,
    "high_dim_threshold": 30,
    "gradient_checkpointing": true,
    "torch_genome_enabled": false,
    "ode_solver": "euler",
    "ode_time_points": 2,
    "ode_rtol": 0.01,
    "ode_atol": 0.0001,
    "enable_ode_skip": true,
    "enable_epsilon_memoization": true,
    "epsilon_step_fraction_of_range": 0.001,
    "enable_coarse_first": false,
    "coarse_step_fraction_of_range": 0.005,
    "conservative_factor_increase": 1.02,
    "conservative_factor_decrease": 0.98,
    "enable_one_fifth_rule": false,
    "surrogate_sampling_nfe": 20,
    "ucb_exploration_factor": 0.5,
    "enable_batched_eval": false,
    "intervention_multiplier": 0.05,
    "min_weight_when_history_bad": 0.15,
    "min_depth": 0.1,
    "max_depth": 1.5,
    "enable_legacy_per_child_loop": false,
    "enable_telemetry": true,
    "auto_low_budget_tuning": true,
    "fast_mode": false,
    "fast_disable_dream": true,
    "fast_disable_causal_queries": false,
    "fast_reduce_detailed_logging": true,
    "weights": {
      "genetics": 0.4,
      "expression": 0.15,
      "centrality": 0.05,
      "tractability": 0.25,
      "novelty": 0.1,
      "ip_crowding": 0.15
    },
    "diversity_target": 0.6,
    "mw_max": 550.0,
    "soft_corridors": {
      "mw": [
        150.0,
        500.0
      ],
      "logp": [
        -1.0,
        5.0
      ],
      "tpsa": [
        0.0,
        140.0
      ]
    },
    "novelty_min_dist": 0.3,
    "enforce_novelty": true,
    "scaffold_policy": {
      "max_per_scaffold": 1,
      "penalty": 0.15
    },
    "dedupe_selection": true,
    "dedupe_key": "smiles",
    "cv_folds": 5,
    "calibration": "isotonic",
    "bootstrap_models": 20,
    "nsga2_enable": true,
    "nsga2_trials": 2000,
    "nsga2_adaptive_multiplier": 2,
    "use_openai_validation": true,
    "openai_model": "CREWAI_LLM_MODEL",
    "filters": {
      "enable_pains": true,
      "enable_structural_alerts": true,
      "no_warheads": false,
      "sa_threshold": 8.0
    },
    "composite_weights": {
      "p_act": 0.4,
      "qed": 0.2,
      "mw_window": 0.1,
      "logp_window": 0.1,
      "solubility": 0.1,
      "sa_favor": 0.1,
      "risk_penalty_scale": 1.0
    },
    "run_registry": "../../run_registry.jsonl",
    "smoke": {
      "k": 4,
      "max_generations": 2,
      "nsga2_trials": 40
    }
  },
  "manifest": {
    "row_count_valid": 2659,
    "row_count_raw": 2659,
    "dataset_csv": null
  },
  "data_audit": {
    "invalid_smiles_count": 0
  },
  "engine": {
    "n_islands": 6,
    "pop_size": 48,
    "max_generations": 80
  },
  "elapsed_s": 0.17172189999837428,
  "selection": {
    "indices": [
      1534,
      1889,
      1867,
      944,
      2386,
      1364,
      2135,
      2322
    ],
    "smiles": [
      "CC1(C)CC2=NNC(=O)c3cccc4c3c2c(n4CCO)C1",
      "O=c1[nH]nc(Cc2ccc(Br)nc2)c2c1CCCC2",
      "CC(C)NCc1ccc(Cc2n[nH]c(=O)c3c2CCCC3)cc1",
      "CN1CCCc2c1cc(-c1ccc(Cl)cc1)[nH]c2=O",
      "O=C(c1cc2[nH]c(=O)c3ccccc3n2n1)N1CCCC(CN2CCOCC2)C1",
      "Cc1cccc2c(=O)[nH]c(-c3ccc(CN4CCN(C)CC4)cc3)cc12",
      "CN(C)CCCOc1ccc(-c2nc3cccc4c3n2CCNC4=O)cc1",
      "Cc1ccc(-c2cc3[nH]c(=O)c4ccccc4n3n2)cc1"
    ]
  },
  "metrics": {
    "p_act": 0.7501865357142856,
    "qed": 0.7866540487780009,
    "sa": 1.60375,
    "mw": 323.3016250000001,
    "div": 0.8042721480239973,
    "loss": 0.17102282465231403
  },
  "baselines": {
    "nsga2_pf_best_qed": 0.9167556038337651,
    "hv_aea_2d": 0.753821334107614,
    "hv_nsga_2d": 0.9214074446397221,
    "epsilon_indicator_2d": -0.05607135714285716
  },
  "validation": {
    "ai_generated": false,
    "error": "Error code: 400 - {'error': {'message': 'invalid model ID', 'type': 'invalid_request_error', 'param': None, 'code': None}}",
    "analysis_timestamp": "2025-12-10 10:45:03",
    "portfolio_data": {
      "portfolio_size": 8,
      "compounds": [
        {
          "index": 1534,
          "smiles": "CC1(C)CC2=NNC(=O)c3cccc4c3c2c(n4CCO)C1",
          "canonical_smiles": "CC1(C)CC2=NNC(=O)c3cccc4c3c2c(n4CCO)C1",
          "p_act": 0.8143568571428573,
          "p_act_std": null,
          "qed": 0.8906821102373101,
          "mw": 297.35800000000006,
          "logp": 2.0534999999999997,
          "tpsa": 66.62,
          "sa": 1.56,
          "hbd": 2.0,
          "hba": 4.0,
          "rotb": 2.0,
          "lipinski": true,
          "esol_logS": -3.148051872727273,
          "herg_risk": "medium",
          "clearance_risk": "medium",
          "pains_hits": "",
          "alert_hits": "",
          "warhead_flags": "",
          "composite_score": 0.8238
        },
        {
          "index": 1889,
          "smiles": "O=c1[nH]nc(Cc2ccc(Br)nc2)c2c1CCCC2",
          "canonical_smiles": "O=c1[nH]nc(Cc2ccc(Br)nc2)c2c1CCCC2",
          "p_act": 0.8109771428571431,
          "p_act_std": null,
          "qed": 0.8645994989986728,
          "mw": 320.19000000000017,
          "logp": 2.3970000000000002,
          "tpsa": 58.64,
          "sa": 1.2799999999999998,
          "hbd": 1.0,
          "hba": 3.0,
          "rotb": 2.0,
          "lipinski": true,
          "esol_logS": -3.6706564210526325,
          "herg_risk": "low",
          "clearance_risk": "medium",
          "pains_hits": "",
          "alert_hits": "2-halo_pyridine",
          "warhead_flags": "",
          "composite_score": 0.8176
        },
        {
          "index": 1867,
          "smiles": "CC(C)NCc1ccc(Cc2n[nH]c(=O)c3c2CCCC3)cc1",
          "canonical_smiles": "CC(C)NCc1ccc(Cc2n[nH]c(=O)c3c2CCCC3)cc1",
          "p_act": 0.7106462857142856,
          "p_act_std": null,
          "qed": 0.8924573229641474,
          "mw": 311.42900000000003,
          "logp": 2.7375000000000016,
          "tpsa": 57.78,
          "sa": 1.49,
          "hbd": 2.0,
          "hba": 3.0,
          "rotb": 5.0,
          "lipinski": true,
          "esol_logS": -3.5515717565217404,
          "herg_risk": "medium",
          "clearance_risk": "medium",
          "pains_hits": "",
          "alert_hits": "",
          "warhead_flags": "",
          "composite_score": 0.7654
        },
        {
          "index": 944,
          "smiles": "CN1CCCc2c1cc(-c1ccc(Cl)cc1)[nH]c2=O",
          "canonical_smiles": "CN1CCCc2c1cc(-c1ccc(Cl)cc1)[nH]c2=O",
          "p_act": 0.7561594285714285,
          "p_act_std": null,
          "qed": 0.8674959101642256,
          "mw": 274.75100000000003,
          "logp": 3.077700000000001,
          "tpsa": 36.1,
          "sa": 1.2699999999999998,
          "hbd": 1.0,
          "hba": 2.0,
          "rotb": 1.0,
          "lipinski": true,
          "esol_logS": -3.8837756210526324,
          "herg_risk": "medium",
          "clearance_risk": "medium",
          "pains_hits": "",
          "alert_hits": "",
          "warhead_flags": "",
          "composite_score": 0.746
        },
        {
          "index": 2386,
          "smiles": "O=C(c1cc2[nH]c(=O)c3ccccc3n2n1)N1CCCC(CN2CCOCC2)C1",
          "canonical_smiles": "O=C(c1cc2[nH]c(=O)c3ccccc3n2n1)N1CCCC(CN2CCOCC2)C1",
          "p_act": 0.7185659999999997,
          "p_act_std": null,
          "qed": 0.7241294177110903,
          "mw": 395.4630000000003,
          "logp": 1.3601999999999999,
          "tpsa": 82.94,
          "sa": 2.0300000000000002,
          "hbd": 1.0,
          "hba": 6.0,
          "rotb": 3.0,
          "lipinski": true,
          "esol_logS": -3.282520737931036,
          "herg_risk": "medium",
          "clearance_risk": "low",
          "pains_hits": "",
          "alert_hits": "",
          "warhead_flags": "",
          "composite_score": 0.7319
        },
        {
          "index": 1364,
          "smiles": "Cc1cccc2c(=O)[nH]c(-c3ccc(CN4CCN(C)CC4)cc3)cc12",
          "canonical_smiles": "Cc1cccc2c(=O)[nH]c(-c3ccc(CN4CCN(C)CC4)cc3)cc12",
          "p_act": 0.7565325714285713,
          "p_act_std": null,
          "qed": 0.79046917407701,
          "mw": 347.4620000000001,
          "logp": 3.2509200000000025,
          "tpsa": 39.34,
          "sa": 1.7799999999999998,
          "hbd": 1.0,
          "hba": 3.0,
          "rotb": 3.0,
          "lipinski": true,
          "esol_logS": -4.299728615384618,
          "herg_risk": "medium",
          "clearance_risk": "medium",
          "pains_hits": "",
          "alert_hits": "",
          "warhead_flags": "",
          "composite_score": 0.7317
        },
        {
          "index": 2135,
          "smiles": "CN(C)CCCOc1ccc(-c2nc3cccc4c3n2CCNC4=O)cc1",
          "canonical_smiles": "CN(C)CCCOc1ccc(-c2nc3cccc4c3n2CCNC4=O)cc1",
          "p_act": 0.7050522857142856,
          "p_act_std": null,
          "qed": 0.6835257983638198,
          "mw": 364.4490000000001,
          "logp": 2.7772000000000006,
          "tpsa": 59.39,
          "sa": 1.8699999999999999,
          "hbd": 1.0,
          "hba": 5.0,
          "rotb": 6.0,
          "lipinski": true,
          "esol_logS": -3.864330911111112,
          "herg_risk": "medium",
          "clearance_risk": "medium",
          "pains_hits": "",
          "alert_hits": "Aliphatic_long_chain",
          "warhead_flags": "",
          "composite_score": 0.6984
        },
        {
          "index": 2322,
          "smiles": "Cc1ccc(-c2cc3[nH]c(=O)c4ccccc4n3n2)cc1",
          "canonical_smiles": "Cc1ccc(-c2cc3[nH]c(=O)c4ccccc4n3n2)cc1",
          "p_act": 0.7292017142857142,
          "p_act_std": null,
          "qed": 0.5798731577077322,
          "mw": 275.31100000000004,
          "logp": 3.1512200000000004,
          "tpsa": 50.16,
          "sa": 1.5499999999999998,
          "hbd": 1.0,
          "hba": 3.0,
          "rotb": 1.0,
          "lipinski": true,
          "esol_logS": -4.13572060952381,
          "herg_risk": "medium",
          "clearance_risk": "medium",
          "pains_hits": "",
          "alert_hits": "",
          "warhead_flags": "",
          "composite_score": 0.6703
        }
      ],
      "optimization_metrics": {
        "indices": [
          1889,
          2386,
          944,
          1534,
          1364,
          2322,
          1867,
          2135
        ],
        "p_act": 0.7501865357142856,
        "qed": 0.7866540487780009,
        "sa": 1.60375,
        "mw": 323.3016250000001,
        "div": 0.8042721480239973,
        "loss": 0.17102282465231403
      },
      "nsga2_baseline": {
        "best_qed": 0.9167556038337651
      },
      "activity_threshold": 0.7
    }
  },
  "monitoring": {
    "unique_smiles_count": 8,
    "scaffold_reuse_rate": 1,
    "diversity_mean_distance": 0.8042721480239944,
    "diversity_target": 0.6,
    "qed_gap_vs_nsga_best": 0.13010155505576415,
    "mean_pact_minus_qed": -0.03646751306371536,
    "corr_pact_qed_selected": 0.5425917454298466
  },
  "filters_summary": {
    "pains_hits": 0,
    "alert_hits": 2,
    "warhead_flags": 0,
    "sa_rejects": 0
  },
  "artifacts": {
    "run_directory": ".",
    "portfolio_image": "portfolio_selected.png",
    "activity_qed_plot": "activity_qed.png",
    "diversity_plot": "diversity_violin.png",
    "scaffold_treemap": "scaffold_treemap.png",
    "portfolio_composite": "portfolio_composite.png",
    "pareto_diagnostics": "pareto_diagnostics.png",
    "validation_report_md": "portfolio_validation.md",
    "csv": "portfolio_selected.csv"
  },
  "composite_scores": {
    "1534": 0.8238,
    "1889": 0.8176,
    "1867": 0.7654,
    "944": 0.746,
    "2386": 0.7319,
    "1364": 0.7317,
    "2135": 0.6984,
    "2322": 0.6703
  },
  "versions": {
    "python": "3.12.12",
    "numpy": "2.3.4",
    "pandas": "2.3.3",
    "rdkit": "unknown",
    "scikit_learn": "1.5.2",
    "optuna": "4.5.0",
    "matplotlib": "3.10.7",
    "openai": "2.7.1"
  }
}